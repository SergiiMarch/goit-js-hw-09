{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const ulEl = document.querySelector('.form-js');\n\nconst markup = `  <form class=\"feedback-form\" autocomplete=\"off\">\n<label>\n  Email\n  <input type=\"email\" name=\"email\" autofocus />\n</label>\n<label>\n  Message\n  <textarea name=\"message\" rows=\"8\"></textarea>\n</label>\n<button type=\"submit\">Submit</button>\n</form>; `;\nulEl.insertAdjacentHTML('beforeend', markup);\n\nconst formEl = document.querySelector('.feedback-form');\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nconst LOCAL_KEY = 'feedback-form-state';\n\nfunction initForm() {\n  let persistedFilter = localStorage.getItem(LOCAL_KEY);\n  if (persistedFilter) {\n    persistedFilter = JSON.parse(persistedFilter);\n    formEl.elements.email.value = persistedFilter.email || '';\n    formEl.elements.message.value = persistedFilter.message || '';\n\n    formData = persistedFilter;\n  }\n}\n\ninitForm();\n\nformEl.addEventListener('input', handlerGetComment);\n\nfunction handlerGetComment(e) {\n  e.preventDefault();\n  formData[e.target.name] = e.target.value.trim();\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(formData));\n}\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const { email, message } = formData;\n\n  if (!email || !message) {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log('formData:', formData);\n\n  localStorage.removeItem(LOCAL_KEY);\n  formEl.reset();\n  formData = {\n    email: '',\n    message: '',\n  };\n});\n"],"names":["ulEl","markup","formEl","formData","LOCAL_KEY","initForm","persistedFilter","handlerGetComment","email","message"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,UAAU,EAExCC,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAWfD,EAAK,mBAAmB,YAAaC,CAAM,EAE3C,MAAMC,EAAS,SAAS,cAAc,gBAAgB,EAEtD,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAY,sBAElB,SAASC,GAAW,CAClB,IAAIC,EAAkB,aAAa,QAAQF,CAAS,EAChDE,IACFA,EAAkB,KAAK,MAAMA,CAAe,EAC5CJ,EAAO,SAAS,MAAM,MAAQI,EAAgB,OAAS,GACvDJ,EAAO,SAAS,QAAQ,MAAQI,EAAgB,SAAW,GAE3DH,EAAWG,EAEf,CAEAD,IAEAH,EAAO,iBAAiB,QAASK,CAAiB,EAElD,SAASA,EAAkB,EAAG,CAC5B,EAAE,eAAc,EAChBJ,EAAS,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MAAM,OACzC,aAAa,QAAQC,EAAW,KAAK,UAAUD,CAAQ,CAAC,CAC1D,CAEAD,EAAO,iBAAiB,SAAU,GAAK,CACrC,EAAE,eAAc,EAChB,KAAM,CAAE,MAAAM,EAAO,QAAAC,CAAS,EAAGN,EAE3B,GAAI,CAACK,GAAS,CAACC,EAAS,CACtB,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAI,YAAaN,CAAQ,EAEjC,aAAa,WAAWC,CAAS,EACjCF,EAAO,MAAK,EACZC,EAAW,CACT,MAAO,GACP,QAAS,EACb,CACA,CAAC"}